---
:src: blas.tgz
:src_dir: BLAS
:type: libs
:version: '1'
:compilers:
  gcc:
:patches:
  - blas-alces.patch
:compile: |
  make all <%= redirect(:make) %>
:install: |
  install -D -m 644 blas_LINUX_ALCES.a <%= dest_dir %>/libblas.a
:module: |
  #%Module1.0#####################################################################
  ##
  ## BLAS module file
  ##
  ################################################################################
  proc ModulesHelp { } {
          global version

          puts stderr "\tAdds `BLAS-$version' to your PATH environment variable and necessary libraries"
  }

  set     version <%= version %>

  module-whatis   "loads the necessary `BLAS-$version' library paths"

  set BLAS_DIR <%= dest_dir %>

  setenv           BLASDIR        $BLAS_DIR 
  setenv           BLAS_DIR       $BLAS_DIR
  setenv           BLASLIB        $BLAS_DIR
  setenv           BLAS_LIB       $BLAS_DIR
  setenv           BLAS       $BLAS_DIR/libblas.a

  prepend-path LD_LIBRARY_PATH $BLAS_DIR
  prepend-path --delim " " LDFLAGS " -L$BLAS_DIR"
