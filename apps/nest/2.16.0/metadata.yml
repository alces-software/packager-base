---
:schema: 1
:title: NEST
:license: GPLv2
:summary: Simulator for spiking neural network models
:url: http://www.nest-simulator.org/
:description: |
  NEST is a simulator for spiking neural network models that focuses
  on the dynamics, size and structure of neural systems rather than on
  the exact morphology of individual neurons. The development of NEST
  is coordinated by the NEST Initiative.

  NEST is ideal for networks of spiking neurons of any size, for
  example:

    1. Models of information processing e.g. in the visual or auditory
       cortex of mammals,
    2. Models of network activity dynamics, e.g. laminar cortical
       networks or balanced random networks,
    3. Models of learning and plasticity.
:group: Simulation
:changelog: |
  * Tue Feb 19 2019 - Rob Brown <rob.brown@alces-flight.com>
    - First created
:src: v2.16.0.tar.gz
:src_dir: nest-simulator-2.16.0
:type: apps
:version: 2.16.0
:requirements:
  :tool:
    - apps/cmake
    - apps/cython
  :build:
    - apps/python ~> 2.7.8
  :runtime:
    - apps/python ~> 2.7.8
:dependencies:
  :build:
    el:
      - gsl-devel
      - readline-devel
  :runtime:
    el:
      - gsl
      - readline
:compilers:
  gcc:
:compile: |
  mkdir build
  cd build
  cmake -DCMAKE_INSTALL_PREFIX=<%= dest_dir %> \
   -Dwith-python=ON \
   -Dwith-gsl=ON \
   -Dwith-readline=ON \
   -Dwith-ltdl=ON \
   -Dwith-openmp=ON \
    .. <%= redirect(:configure) %>
  make <%= redirect(:compile) %>
:install: |
  cd build
  make install <%= redirect(:install) %>
:module: |
  setenv ${appcaps}DIR ${appdir}
  setenv ${appcaps}BIN ${appdir}/bin
  setenv ${appcaps}DOC ${appdir}/share/doc/nest
  setenv ${appcaps}LIB ${appdir}/lib64
  setenv ${appcaps}INCLUDE ${appdir}/include
  setenv ${appcaps}SHARE ${appdir}/share

  prepend-path PATH ${appdir}/bin
  prepend-path PYTHONPATH ${appdir}/lib/python2.7/site-packages
  prepend-path LD_LIBRAY_PATH ${appdir}/lib64

  setenv NEST_INSTALL_DIR ${appdir}
  setenv NEST_DATA_DIR ${appdir}/share/nest
  setenv NEST_DOC_DIR ${appdir}/share/doc/nest
  setenv NEST_MODULE_PATH ${appdir}/lib64/nest
  setenv NEST_PYTHON_PREFIX ${appdir}/lib64/python2.7/site-packages
